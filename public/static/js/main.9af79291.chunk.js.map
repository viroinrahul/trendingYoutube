{"version":3,"sources":["components/Header.js","components/VideoCard.js","components/Cards.js","components/Foot.js","components/Home.js","components/Video.js","App.js","index.js"],"names":["Header","refresh","history","useHistory","useState","loading","setLoading","update","a","fetch","window","location","reload","className","onClick","push","src","alt","type","size","VideoCard","title","thumbnailUrl","channelTitle","views","description","id","len","length","gutter","span","style","color","CheckCircleOutlined","parseInt","substring","viewString","Cards","videosArray","map","video","index","Footer","Layout","Foot","textAlign","Home","props","trendingVideos","setTrendingVideos","useEffect","rawData","json","videosData","fetchData","orientation","plain","number","arr","i","loadingCard","Meta","Card","Video","search","useLocation","URLSearchParams","get","toggled","setToggled","width","innerWidth","opts","height","playerVars","autoplay","details","setDetails","numberWithCommas","x","replace","endpointUrl","jsonData","console","log","cover","videoId","videoData","LikeFilled","likes","avatar","channelData","thumbnails","default","url","subscriberCount","subs","ans","countString","dangerouslySetInnerHTML","__html","replaceAll","App","path","exact","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9af79291.chunk.js","sourcesContent":["import { Button} from \"antd\";\nimport React from \"react\";\nimport { useHistory } from \"react-router\";\nimport { useState } from \"react\";\nimport \"./Header.css\";\n\nconst Header = ({refresh}) => {\n    const history = useHistory();\n    const [loading,setLoading] = useState(false);\n    const update = async ()=>{\n      setLoading(true);\n      await fetch('http://localhost:8000/databaseupdate');\n      setLoading(false);\n      window.location.reload();\n    }\n    const root = () =>{\n      history.push(\"/\");\n    }\n   \n    return (\n        <div className=\"header\">\n        <div className=\"header-title\" onClick={root}>\n          <img className=\"logo\" src=\"https://drive.google.com/uc?id=13pJMA3SMozWzSHGuJEKfztH9xJSp5R6B&export=download\" alt=\"QTube-icon\"></img>\n        </div>\n        {(refresh)?(<div className=\"header-action\">\n          <Button loading={loading}  type=\"primary\" size=\"large\" className=\"switch-button\" onClick={update}>Refresh</Button>\n        </div>):(<></>)}\n        \n      </div>\n    );\n}\n\nexport default Header;","\nimport React from 'react';\nimport 'antd/dist/antd.css';\nimport { Row, Col} from 'antd';\nimport {CheckCircleOutlined} from '@ant-design/icons';\nimport { useHistory } from \"react-router\";\n\n\n\n\nconst VideoCard = ({title,thumbnailUrl,channelTitle,views,description,id})=>{\n    const history = useHistory();\n    const limit = 300;\n    const len =  description.length;\n    const printDescription = ()=>{\n        if(len > limit){\n            const ans = description.substring(0,limit) + ' ...';\n            return ans;\n        }\n        else\n            return description;\n    }\n    const viewString = ()=>{\n        const a = parseInt(views);\n        let ans = \"\";\n        if(a >= 10000000 ){\n            ans = views.substring(0,2)+'M';\n        }\n        else if(a >= 1000000){\n            if(views[1] != 0){\n                ans = views[0]+'.'+views[1]+'M';\n            }\n            else{\n                ans = views[0]+'M';\n            }\n        }\n        else if(a >= 100000){\n            ans = views.substring(0,3)+'K';\n        }\n        else{\n            ans = views.substring(0,2)+'K';\n        }\n\n        return ans;\n    }\n\n    const videoPage = ()=>{\n        history.push(`/video/?id=${id}`);\n    }\n    return(\n        <a onClick={videoPage}>\n           <Row gutter={[0,0]}>\n               <Col span={9}>\n                   <img src={thumbnailUrl}></img>\n               </Col>\n               <Col span={15}>\n                   <Row>\n                       <Col span={24}>\n                            <h3>{title}</h3>\n                       </Col>\n                       <Col span={24} >\n                            <h5 style={{color:'#606060'}}>{channelTitle +' '} <i> <CheckCircleOutlined /> </i>{'  '+ viewString() + ' views'}</h5>\n                       </Col>\n                       <Col span={24}>\n                            <h5 style={{color:'#606060'}}>{printDescription()}</h5>\n                       </Col>\n                   </Row>\n                   \n               </Col>\n           </Row>\n        </a>   \n    );\n};\n\n\nexport default VideoCard;\n\n","import { Col } from 'antd';\nimport VideoCard from \"./VideoCard\";\nimport React from \"react\";\nimport './Cards.css'\nconst Cards = ({videosArray}) =>{\n    return (\n        <>\n            {videosArray.map((video,index)=>(\n                <Col span={20} key={index} className=\"cards\">\n                    <VideoCard id = {video['_id']}title={video['title']} thumbnailUrl = {video['thumbnails']['medium']['url']} description = {video['description']}  channelTitle={video['channelTitle']} views={video['views']}>\n                    </VideoCard>\n                </Col>\n            ))}\n        </>\n    )\n}\n\nexport default Cards;","import { Layout } from \"antd\";\nconst {Footer} = Layout;\n\nconst Foot = ()=>{\n    return (\n        <>\n            <Footer style={{textAlign:\"center\"}}>QTube ©2022</Footer>\n        </>\n    );\n}\n\nexport default Foot;","import Header from \"./Header\";\nimport React, { useEffect, useState } from \"react\";\nimport { Row, Divider,Card,Col } from 'antd';\nimport Cards from \"./Cards\";\nimport \"./Home.css\";\nimport Foot from \"./Foot\";\n\n\n\nconst Home =  (props) =>{\n    const [trendingVideos, setTrendingVideos] = useState([]);\n    const [loading,setLoading] = useState(true);\n    useEffect(()=>{\n         async function fetchData( ){\n            setLoading(true);\n            const trendingVideosEndPoint = 'http://localhost:8000/videos';\n            const rawData = await fetch(trendingVideosEndPoint);\n            const videosData = await rawData.json();\n            // console.log(videosData);\n            setTrendingVideos(videosData);\n            setLoading(false);\n        };\n        fetchData();\n        \n    },[]);\n\n    const loadingCard = (number)=>{\n        let arr = [];\n        for(let i = 0;i < number; i++){\n            arr.push(<Col span={20} key={i+1}><Card loading={true}></Card></Col>);\n        }\n        return arr;\n    }\n    return (\n        <>\n            \n            <Header refresh={true}/>\n            <div className=\"home-container\">\n                <Divider orientation=\"center\" plain><h3>Trending Videos</h3></Divider>\n                <Row className=\"news-box\" gutter={[16,32]}>\n                    {((loading)?(\n                        <>\n                            {loadingCard(4)}\n                        </>\n                    ):(<Cards videosArray={trendingVideos}/>))}\n                    \n                </Row>\n            </div>\n            <Foot/>\n        </>\n        \n    );\n}\n\nexport default Home;\n\n","import React, { useEffect, useState } from \"react\";\nimport { Card, Avatar,Divider} from 'antd';\nimport Header from \"./Header\";\nimport {useLocation} from \"react-router-dom\";\nimport './Home.css';\nimport './Video.css';\nimport YouTube from \"react-youtube\";\nimport {LikeFilled} from '@ant-design/icons';\nconst { Meta } = Card;\n\n\nconst Video = ()=>{\n    const search = useLocation().search;\n    const id = new URLSearchParams(search).get('id');\n    const [toggled, setToggled]=useState(false)\n    const width = window.innerWidth*0.95\n    const opts = {\n        width: width,\n        height: width*10/24,\n        playerVars: {\n            autoplay: 1,\n        },\n    };\n    const [details,setDetails] = useState();\n    const [loading,setLoading] = useState(false);\n    useEffect(async()=>{\n        setLoading(true);\n        \n        const endpointUrl = `https://youtubetrendinglist.herokuapp.com/videoDetails?id=${id}`;\n        const rawData = await fetch(endpointUrl);\n        const jsonData = await rawData.json();\n        setDetails(jsonData);\n        setLoading(false);\n        console.log(jsonData);\n\n    },[]);\n\n    function countString(){\n        if(!details?.channelData?.subscriberCount ){\n            return \"Subscriber Count Hidden\";\n        }\n        const a = parseInt(details?.channelData?.subscriberCount);\n        const subs = details?.channelData?.subscriberCount;\n        let ans = \"\";\n        if(a >= 10000000 ){\n            ans = subs.substring(0,2)+'M subscribers';\n        }\n        else if(a >= 1000000){\n            if(subs[1] != 0){\n                ans = subs[0]+'.'+subs[1]+'M subscribers';\n            }\n            else{\n                ans = subs[0]+'M subscribers';\n            }\n        }\n        else if(a >= 100000){\n            ans = subs.substring(0,3)+'K subscribers';\n        }\n        else{\n            console.log(subs);\n            ans = subs[0]+subs[1]+'K subscribers';\n        }\n\n        return ans;\n    }\n\n    function numberWithCommas(x) {\n        if(!x)\n            return '0';\n       let  a= x.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n       return a;\n       \n    }\n   \n    \n\n    return (\n        <>\n            <Header refresh={false}/>\n            <div className=\"home-container\">\n                <div className=\"player\">\n                    {((loading)?(<><Card style={{width:'100%',height:'500px'}} loading={true}></Card></>):(<><Card cover={<YouTube videoId={id} opts={opts}/>}>\n                        <h2>{details?.videoData?.title}</h2>\n                        <div className=\"stats\">\n                            <h3>{numberWithCommas(details?.videoData?.views)+' views'}</h3>\n                            <h3><i><LikeFilled /></i> {numberWithCommas(details?.videoData?.likes) }</h3>\n                        </div>\n                        \n                        <Divider orientation=\"center\" plain></Divider>\n                         <Meta avatar={<Avatar size={64} src={details?.channelData?.thumbnails?.default.url}/>}  title={details?.channelData?.title} description={countString()}/> \n                         <Divider orientation=\"center\" plain></Divider>\n                         <h3>Video Description</h3>\n                            <div className={`videoDesc ${toggled?\"full\":\"half\"}`}\n                            dangerouslySetInnerHTML={{__html: details?.videoData?.description.replaceAll(\"\\n\",\"<br/>\")}}>\n                            </div>\n                            <a style={{color:'#060606'}} onClick={()=>{\n                            setToggled(!toggled)\n                            }}>Show {toggled?\"Less\":\"More\"}</a>\n                    </Card></>))}\n\n                </div>\n            </div>\n        </>\n    )\n}\n\nexport default Video;\n\n","import \"antd/dist/antd.css\";\nimport './App.css';\nimport Home from './components/Home';\nimport Video from \"./components/Video\"\nimport { Route, Switch } from \"react-router-dom\";\n\n\n\nconst App = () => {\n   return (\n     <>\n     <Switch>\n        <Route path=\"/\" exact>\n          <Home />\n        </Route>\n        <Route path=\"/video\">\n          <Video />\n        </Route>\n      </Switch>\n     </>\n    \n   )\n}\n\nexport default App;\n\n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { BrowserRouter as Router } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}